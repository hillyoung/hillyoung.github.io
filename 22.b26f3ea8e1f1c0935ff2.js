(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"7cwl":function(n,l,o){"use strict";o.r(l);var t=o("CcnG"),i=o("ZZ/e"),e=(o("vlXg"),o("1ZaN")),r=function(){function n(n,l,o,t,i,e){var r=this;this.router=n,this.route=l,this.nav=o,this.util=t,this.userService=i,this.workflowService=e,document.title="\u5386\u53f2\u5ba1\u6279\u4fe1\u606f",this.currentNodes=[],this.historyNodes=[],this.route.queryParams.subscribe(function(n){console.debug(r.router.getCurrentNavigation().extras.state);var l=r.router.getCurrentNavigation().extras.state;l&&(r.tblNam=l.tblNam,r.pkValue=l.pkValue,r.loadDate(null))})}return n.prototype.ngOnInit=function(){},n.prototype.usersrcForNode=function(n){var l={type:3,orgno:this.userService.getUserInfo().orgNo,userid:this.userService.getUserInfo().userId,headid:n.operUsr};return this.util.urlForUserId(l)},n.prototype.handleNodes=function(n){return(n=n||[]).forEach(function(n){var l=n.operDtm.split(" ");n.date=(l.shift()||"").substr(5),n.time=(l.pop()||"").substr(0,5)}),n},n.prototype.loadDate=function(n){var l=this;this.util.showLoad().then(function(n){l.workflowService.getWorkFlowHistoryList(l.tblNam,l.pkValue).then(function(o){n.dismiss(),l.currentNodes=l.handleNodes(o.currentNodes),l.historyNodes=l.handleNodes(o.historyNodes),setTimeout(function(){l.content.scrollToBottom(300)},300)})})},n}(),c=function(){return function(){}}(),u=o("pMnS"),s=o("oBZk"),a=o("Ip0R"),d=o("ZYCi"),p=o("BaxT"),f=o("Ouoq"),b=t.mb({encapsulation:0,styles:[['[_ngcontent-%COMP%]:root{font-size:62.5%;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;--ion-background-color:#F8F8F8;--ion-color-primary:#4880FF;--ion-color-primary-rgb:72,128,255;--ion-color-primary-contrast:#ffffff;--ion-color-primary-contrast-rgb:255,255,255;--ion-color-primary-shade:#3f71e0;--ion-color-primary-tint:#5a8dff;--ion-color-secondary:#0cd1e8;--ion-color-secondary-rgb:12,209,232;--ion-color-secondary-contrast:#ffffff;--ion-color-secondary-contrast-rgb:255,255,255;--ion-color-secondary-shade:#0bb8cc;--ion-color-secondary-tint:#24d6ea;--ion-color-tertiary:#7044ff;--ion-color-tertiary-rgb:112,68,255;--ion-color-tertiary-contrast:#ffffff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#633ce0;--ion-color-tertiary-tint:#7e57ff;--ion-color-success:#10dc60;--ion-color-success-rgb:16,220,96;--ion-color-success-contrast:#ffffff;--ion-color-success-contrast-rgb:255,255,255;--ion-color-success-shade:#0ec254;--ion-color-success-tint:#28e070;--ion-color-warning:#ffce00;--ion-color-warning-rgb:255,206,0;--ion-color-warning-contrast:#ffffff;--ion-color-warning-contrast-rgb:255,255,255;--ion-color-warning-shade:#e0b500;--ion-color-warning-tint:#ffd31a;--ion-color-danger:#f04141;--ion-color-danger-rgb:245,61,61;--ion-color-danger-contrast:#ffffff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#d33939;--ion-color-danger-tint:#f25454;--ion-color-dark:#222428;--ion-color-dark-rgb:34,34,34;--ion-color-dark-contrast:#ffffff;--ion-color-dark-contrast-rgb:255,255,255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#666666;--ion-color-medium-rgb:102,102,102;--ion-color-medium-contrast:#ffffff;--ion-color-medium-contrast-rgb:255,255,255;--ion-color-medium-shade:#5a5a5a;--ion-color-medium-tint:#757575;--ion-color-light:#F4F4F4;--ion-color-light-rgb:244,244,244;--ion-color-light-contrast:#000000;--ion-color-light-contrast-rgb:0,0,0;--ion-color-light-shade:#d7d7d7;--ion-color-light-tint:#f5f5f5;--placeholder-color:#CCCCCC!important;--position:fixed}ion-input[_ngcontent-%COMP%]{--placeholder-color:#CCCCCC!important;--placeholder-opacity:1!important}ion-searchbar[_ngcontent-%COMP%]{--placeholder-color:#8E8E93!important;--placeholder-opacity:1!important}ion-toast[_ngcontent-%COMP%]{text-align:center}.native-input[disabled].sc-ion-input-ios[_ngcontent-%COMP%]{opacity:1!important}.toast-ios[_ngcontent-%COMP%]{left:30%;width:40%}.toast-message[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{background:0 0;--background:transparent}.border-bottom-full[_ngcontent-%COMP%]{border-bottom:1px solid #f3f3f3!important}.space-top[_ngcontent-%COMP%]{border-top:16px solid #d8d8d8!important}.group-content[_ngcontent-%COMP%]{padding:0 0 16px!important}.segmented-divider[_ngcontent-%COMP%]{padding:16px 0;--background:white}.span-header-title[_ngcontent-%COMP%]{padding:0 16px;border-left:3px solid #4880ff;font-size:16px;line-height:16px;color:#333}.card-content[_ngcontent-%COMP%]{margin:0;box-shadow:unset}.card-content[_ngcontent-%COMP%]:nth-child(2)   .div-line[_ngcontent-%COMP%]{top:16px}.card-content[_ngcontent-%COMP%]:last-child   .div-line[_ngcontent-%COMP%]{bottom:unset;height:16px}.card-content-node[_ngcontent-%COMP%]{padding:0 0 8px;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:flex-start;align-items:flex-start}.div-content-date[_ngcontent-%COMP%]{width:50px}.p-date[_ngcontent-%COMP%]{margin:5px 0 0;font-size:12px;line-height:14px;color:#333;text-align:right}.p-time[_ngcontent-%COMP%]{margin:3px 0 0;font-size:10px;line-height:10px;color:#666;text-align:right}.div-line[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:68px;width:2px;background:#e7ebf2;overflow:visible}.img-icon-arrow[_ngcontent-%COMP%]{position:absolute;top:16px;left:63px;min-width:13px;max-width:13px;width:13px;height:13px}.div-history-info-content[_ngcontent-%COMP%]{-webkit-flex:1;flex:1;margin:0 16px 0 40px;padding:16px 0 16px 16px;position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:flex-start;align-items:flex-start;background:#f5f9ff;border-radius:4px}.div-history-info-content[_ngcontent-%COMP%]:before{position:absolute;top:16px;left:-14px;width:0;height:0;border:7px solid transparent;content:"";border-right:7px solid #f5f9ff}.img-user[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;width:32px;height:32px;border-radius:16px}.span-name-operation[_ngcontent-%COMP%]{margin:0 0 0 70px;font-size:14px;line-height:14px;color:#333}.span-node[_ngcontent-%COMP%]{margin:6px 0 0 70px;font-size:12px;line-height:12px;color:#999}.span-idea[_ngcontent-%COMP%]{margin:8px 0 0;padding:8px 0 0;width:100%;font-size:12px;line-height:12px;border-top:1px solid #e8f0fc}']],data:{}});function g(n){return t.Db(0,[(n()(),t.ob(0,0,null,null,18,"ion-card",[["class","card-content"]],null,null,null,s.M,s.d)),t.nb(1,49152,null,0,i.l,[t.h,t.k],null,null),(n()(),t.ob(2,0,null,0,16,"ion-card-content",[["class","card-content-node"]],null,null,null,s.J,s.e)),t.nb(3,49152,null,0,i.m,[t.h,t.k],null,null),(n()(),t.ob(4,0,null,0,4,"div",[["class","div-content-date"]],null,null,null,null,null)),(n()(),t.ob(5,0,null,null,1,"p",[["class","p-date"]],null,null,null,null,null)),(n()(),t.Cb(6,null,["",""])),(n()(),t.ob(7,0,null,null,1,"p",[["class","p-time"]],null,null,null,null,null)),(n()(),t.Cb(8,null,["",""])),(n()(),t.ob(9,0,null,0,0,"div",[["class","div-line"]],null,null,null,null,null)),(n()(),t.ob(10,0,null,0,0,"img",[["class","img-icon-arrow"],["src","./assets/icon/workflow_hisnode.png"]],null,null,null,null,null)),(n()(),t.ob(11,0,null,0,7,"div",[["class","div-history-info-content"]],null,null,null,null,null)),(n()(),t.ob(12,0,null,null,0,"img",[["class","img-user"],["onerror","this.src='./assets/icon/avator.png'"]],[[8,"src",4]],null,null,null,null)),(n()(),t.ob(13,0,null,null,1,"span",[["class","span-name-operation"]],null,null,null,null,null)),(n()(),t.Cb(14,null,[""," \xb7 ",""])),(n()(),t.ob(15,0,null,null,1,"span",[["class","span-node"]],null,null,null,null,null)),(n()(),t.Cb(16,null,["\u8282\u70b9\uff1a",""])),(n()(),t.ob(17,0,null,null,1,"span",[["class","span-idea"]],null,null,null,null,null)),(n()(),t.Cb(18,null,["\u610f\u89c1\uff1a",""]))],null,function(n,l){var o=l.component;n(l,6,0,l.context.$implicit.date),n(l,8,0,l.context.$implicit.time),n(l,12,0,t.qb(1,"",o.usersrcForNode(l.context.$implicit),"")),n(l,14,0,l.context.$implicit.operUsrNam,l.context.$implicit.operNam),n(l,16,0,l.context.$implicit.nodeSht),n(l,18,0,l.context.$implicit.operContent)})}function h(n){return t.Db(0,[(n()(),t.ob(0,0,null,null,16,"ion-card",[["class","card-content"]],null,null,null,s.M,s.d)),t.nb(1,49152,null,0,i.l,[t.h,t.k],null,null),(n()(),t.ob(2,0,null,0,14,"ion-card-content",[["class","card-content-node"]],null,null,null,s.J,s.e)),t.nb(3,49152,null,0,i.m,[t.h,t.k],null,null),(n()(),t.ob(4,0,null,0,4,"div",[["class","div-content-date"]],null,null,null,null,null)),(n()(),t.ob(5,0,null,null,1,"p",[["class","p-date"]],null,null,null,null,null)),(n()(),t.Cb(6,null,["",""])),(n()(),t.ob(7,0,null,null,1,"p",[["class","p-time"]],null,null,null,null,null)),(n()(),t.Cb(8,null,["",""])),(n()(),t.ob(9,0,null,0,0,"div",[["class","div-line"]],null,null,null,null,null)),(n()(),t.ob(10,0,null,0,0,"img",[["class","img-icon-arrow"],["src","./assets/icon/workflow_curnode.png"]],null,null,null,null,null)),(n()(),t.ob(11,0,null,0,5,"div",[["class","div-history-info-content"]],null,null,null,null,null)),(n()(),t.ob(12,0,null,null,0,"img",[["class","img-user"],["onerror","this.src='./assets/icon/avator.png'"]],[[8,"src",4]],null,null,null,null)),(n()(),t.ob(13,0,null,null,1,"span",[["class","span-name-operation"]],null,null,null,null,null)),(n()(),t.Cb(14,null,[""," \xb7 ",""])),(n()(),t.ob(15,0,null,null,1,"span",[["class","span-node"]],null,null,null,null,null)),(n()(),t.Cb(16,null,["",""]))],null,function(n,l){var o=l.component;n(l,6,0,l.context.$implicit.date),n(l,8,0,l.context.$implicit.time),n(l,12,0,t.qb(1,"",o.usersrcForNode(l.context.$implicit),"")),n(l,14,0,l.context.$implicit.operUsrNam,l.context.$implicit.operNam),n(l,16,0,l.context.$implicit.nodeSht)})}function m(n){return t.Db(0,[t.Ab(402653184,1,{content:0}),(n()(),t.ob(1,0,null,null,11,"ion-content",[["color","white"]],null,null,null,s.P,s.j)),t.nb(2,49152,[[1,4],["content",4]],0,i.t,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.ob(3,0,null,0,9,"ion-item-group",[["class","group-content"]],null,null,null,s.Z,s.u)),t.nb(4,49152,null,0,i.I,[t.h,t.k],null,null),(n()(),t.ob(5,0,null,0,3,"ion-item-divider",[["class","segmented-divider"],["sticky",""]],null,null,null,s.Y,s.t)),t.nb(6,49152,null,0,i.H,[t.h,t.k],{sticky:[0,"sticky"]},null),(n()(),t.ob(7,0,null,0,1,"span",[["class","span-header-title"]],null,null,null,null,null)),(n()(),t.Cb(-1,null,[" \u6d41\u7a0b\u5904\u7406\u4fe1\u606f "])),(n()(),t.fb(16777216,null,0,1,null,g)),t.nb(10,278528,null,0,a.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.fb(16777216,null,0,1,null,h)),t.nb(12,278528,null,0,a.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var o=l.component;n(l,2,0,"white"),n(l,6,0,""),n(l,10,0,o.historyNodes),n(l,12,0,o.currentNodes)},null)}function x(n){return t.Db(0,[(n()(),t.ob(0,0,null,null,1,"history",[],null,null,null,m,b)),t.nb(1,114688,null,0,r,[d.m,d.a,i.Gb,p.a,f.a,e.a],null,null)],function(n,l){n(l,1,0)},null)}var w=t.kb("history",r,x,{},{},[]),C=o("gIcY");o.d(l,"HistoryPageModuleNgFactory",function(){return y});var y=t.lb(c,[],function(n){return t.vb([t.wb(512,t.j,t.ab,[[8,[u.a,w]],[3,t.j],t.x]),t.wb(4608,a.k,a.j,[t.u,[2,a.q]]),t.wb(4608,C.k,C.k,[]),t.wb(4608,i.b,i.b,[t.z,t.g]),t.wb(4608,i.Fb,i.Fb,[i.b,t.j,t.q,a.c]),t.wb(4608,i.Ib,i.Ib,[i.b,t.j,t.q,a.c]),t.wb(1073742336,a.b,a.b,[]),t.wb(1073742336,C.i,C.i,[]),t.wb(1073742336,C.b,C.b,[]),t.wb(1073742336,i.Cb,i.Cb,[]),t.wb(1073742336,d.n,d.n,[[2,d.t],[2,d.m]]),t.wb(1073742336,c,c,[]),t.wb(1024,d.k,function(){return[[{path:"",component:r}]]},[])])})}}]);